!function(e,t,a,i,s){"use strict";var o=e.tools;var n={openGroupBuyDialog:function(i){var s=e,o,l=function(e){e.removeClass("hide3");t.dialog({title:"发起合买",css:"payMentDialog",type:"insert",content:e,width:558,animate:0,button:["立即付款"],check:function(){var e=s.groupBuy.getData(),t=s.jcGameManage.getBetPool(),i=s.jcGameManage.getBetMethod(),o={gameExtra:i.serialize(),gameId:a.config.gameId,stakeNumber:t.serialize(),betTimes:s.betTime.get(),caseDesc:e.desc,caseTitle:e.title,createrBuyPieces:e.createrBuyPieces,guarantee:e.baodi,proportion:e.feeType,secretLevel:e.secretLevel,isSupportPassWay:"1",totalPieces:e.totalPieces},l=s.config.activityType;l&&(o.activityType=l);n.payOrder(o,3)}},function(){e.hide()})};if(!s.groupBuy){if(!s.groupBuyStatus){s.groupBuyStatus=true;e.get(s.config.groupBuyUrl,{gameId:a.config.gameId},function(n,r){delete s.groupBuyStatus;if(n){a.alert("合买加载错误，请稍后再试");return}e.loadCdnJS("js2/sportGame2/COMS/GroupBuy.js",function(){return!!s.GroupBuy},function(){o=t(r);o.addClass("hide3");t("body").append(o);s.groupBuy=a.createCom("COMS.JC.GroupBuy",o);s.groupBuy.setBaseMoney(i);l(o)})})}}else{o=t(".groupBox");o.show();s.groupBuy.setBaseMoney(i);l(o)}},moveOptionAnimation:function(a,i,s,n){var l=e,r,f,c=e.jcGameManage,m=c.getBetPool(),d=c.getBetArea(),g,u;if(false===l.selectAnimation)return l;if(!t.isIE6&&!t.isIE7&&a&&i&&s>=0&&n>=0){u=m.config.teamData[i][s];r=d.findGameOption(a,i,s);f=m.cache.wrapBody.find('a[matchCode="'+a+'"][gameType="'+i+'"][index="'+s+'"]');l.common.betPoolScrollBar&&l.common.betPoolScrollBar.scrollToElement(f);f.addClass("hide2");g=t('<a class="'+u[0]+'"style="position:absolute;left:-9999px;top:-9999px;z-index:999;">'+u[1]+"</a>");t("body").append(g);o.moveEle(g,r,f,100,function(){f.removeClass("hide2");g.remove()})}},payOrder:function(t,a){e.loadJS(e.cdnUrl+"/js2/pay/pay.js",function(){return!!e.pay},function(){e.pay.toPay({data:t,orderType:a})})},updateGameInfo:function(){var t,i=e,s=i.cache,o=e.jcGameManage,n=o.getBetMethod(),l=o.getBetPool(),r=n.get().selectMethod,f=l.get(),c=n.config.methodType,m=l.config.gameTypes,d=l.config.teamData,g=s.gameZhu,u=s.totalMoney,h=s.betTimes,p=i.betTime.get(),y=s.maxbonus,x,v=0;x=e.getMinMethod();t=i.getTotalNum(r,f,c,m);s.gameNumber.html(f.length||0);v=t[0]||0;g.html(v);u.html((2*v*p).toFixed(2));i.loadCdnJS("js2/sportGame2/bonus/com/jclqBonus.js",function(){return!!a.jclq&&a.jclq.getMaxBound},function(){var e=i.formatGameInfo(f,d),t;if(e.length>=x&&r.length>0)try{t=a.jclq.getMaxBound({selectMethod:r,selectGameInfo:e});t=+t||0}catch(s){t=0}else t=0;y.html((t*p).toFixed(2))})},messageTip:function(t){var a=e.cache,i,s,o,n,l=a.poolErrorTips,r=a.tipMark,f=e.getMinMethod(),c=a.poolStep2;if(!t){r.hide();if(1==f)l.css("display","").html("请在左侧列表选择投注比赛");else l.css("display","").html("请在左侧列表至少选择2场比赛");return}l.html(t).show().addClass("pool-error-highlight");i=c.find(".methodContent");s=i.position();n=i.width()-4;o=i.height()-4;r.css({top:s.top,left:s.left,height:o,width:n}).show();r.flash(function(){r.hide();l.removeClass("pool-error-highlight")})},changeLoadingStatus:function(t){var a=e.cache.gameWrap,i=e.cache.gameTypeTips,s=i.find(".noData"),o=i.find(".loading");switch(t){case 0:a.removeClass("hide");i.addClass("hide");break;case 1:a.addClass("hide");s.removeClass("hide");o.addClass("hide");i.removeClass("hide");break;case 2:a.addClass("hide");s.removeClass("hide");o.addClass("hide");i.removeClass("hide");break;case 3:a.addClass("hide");s.addClass("hide");o.removeClass("hide");i.removeClass("hide")}},unSerialize:function(e,a,i){var s={},o,n,l,r,f,c,m,d,g,u,h,p,y,x,v,C,B={},T=0,D=0,P={};P={1:"sf",4:"rfsf",3:"dxf",2:"sfc"};if(1==e.config.gameTypes.length)u=e.config.gameTypes[0];if(!a)return s;try{x={};e.clear();for(r in i){g=i[r];x[r]=x[r]||{};for(n=0;n<g.length;n++)x[r][g[n][2]]=n}a=t.trim(a).split(" ");y=e.get().gameInfo;for(n=0;n<a.length;n++){o=a[n].split(":");if(o.length>1&&o.length<=3){f=o[0];m=o[1];c="1"==o[2];c&&++T;B[f]=c;m=m.split(".");++D;if(m&&m.length&&f&&y[f])for(l=0;l<m.length;l++){h=u||P[String(m[l]).length];if(h){v=x[h][m[l]];e.selectOption(f,h,v)}}}}}catch(S){}finally{}},explainData:function(e,a){var i,s=[],n,l,r,f,c,m,d=e.matchList||[],g,u=function(e,t,a,i,s){if("sf"==a){if(e.length>1)t.spData[a]=e.slice(0,2)}else if("rfsf"==a){if(e.length>2){t.spData[a]=e.slice(0,2);t.rq=+e[2]||0}}else if("dxf"==a){if(e.length>2){t.spData[a]=e.slice(0,2).reverse();t.preTotalPoint=e[2]}}else if("sfc"==a)if(e.length>5)t.spData[a]=e.slice(0,12);if(!s)s=0;t.mixStatus[a]=s;t.dgStatus[a]="1"==i?true:false};g="1"==e.isDispJclqSingleFix?true:false;if(!a)return{listData:s,isSupportDg:g};for(i in d){l=d[i];if(l.matchCode){n={rq:0,gameDate:t.formatTime(+l.matchDate,"yyyyMMdd")||null,startTime:+l.startTime||"",endTime:+l.buyEndTime||"",matchDate:+l.matchDate||"",matchnumcn:o.getWeek(+l.matchDate)+l.matchCode.slice(-3)||"",hostName:l.hostName||"",guestName:l.guestName||"",isStop:"1"!=l.status,leagueId:l.lid,hostTeamId:l.hid,visitTeamId:l.gid,leagueName:l.leagueName||"",matchCode:l.matchCode,matchId:l.mid,spData:{},dgStatus:{},mixStatus:{},status:l.status,mixBidScore:l.mixBidScore||"",mixBidCounts:l.mixBidCounts||[],mixHotCounts:l.mixHotCounts||[],leagueURL:l.leagueURL,hostTeamURL:l.hostTeamURL,guestTeamURL:l.guestTeamURL,zxAnalysisURL:l.zxAnalysisURL,isAttention:!!l.isMyFocusOn,visitRankInfo:l.visitRankInfo,hostRankInfo:l.hostRankInfo};if(n.mixBidCounts[2]&&n.mixBidCounts[2].length)n.mixBidCounts[2]=n.mixBidCounts[2].slice(0).reverse();if(n.mixHotCounts[2]&&n.mixHotCounts[2].length)n.mixHotCounts[2]=n.mixHotCounts[2].slice(0).reverse();r=l.spTabMix||[];f=l.singleMixStatus||[];m=l.mixStatus||[];t.each(a,function(e,t){u(r[e],n,t,f[e],m[e])});s.push(n)}}s.sort(function(e,t){return+e.matchCode-+t.matchCode});return{listData:s,isSupportDg:g}},createForm:function(e,a,i,s){var o=["<form method='",i||"post","' action='",e,"' target='",s||"_blank","'>"],n,l;if(a)for(n in a)o.push("<input type='hidden' name='"+n+"' value='"+a[n]+"'/>");l=t(o.join("")+"</form>").appendTo(document.body);l.submit();l.remove()},altGame:function(a){var i=e,s=e.cache.betDate,o=this.getUrlParam("betDate");if(o!=s||!e.cache.matchList){t.bindMsgOnce("loadData",function(i){if(2==i||3==i)t(".selectBox").hide();else e.jcGameManage.altGame(a)});e.loadData({betDate:o})}else e.jcGameManage.altGame(a)},realUrl:function(e){var t=/\/\.\//g;var a=/\/[^/]+\/\.\.\//;var i=/([^:/])\/+\//g;e=e.replace(t,"/");e=e.replace(i,"$1/");while(e.match(a))e=e.replace(a,"/");return e},getPathByPlayType:function(e){return{sf:"/order/jclq/",rfsf:"rfsfp.html",sfc:"sfcp.html",dxf:"dxfcp.html",mixall:"mixp.html",sf4dg:"dg.html",rfsf4dg:"dgrfsf.html",sfc4dg:"dgsfc.html",dxf4dg:"dgdxf.html",mixall4dg:"dgmix.html"}[e]||"/order/jclq/"},getTitleByPlayType:function(e){return{sf:"竞彩篮球_竞彩篮球推荐_篮球竞彩_竞彩篮球玩法-网易彩票网",rfsf:"篮彩让分胜负_竞彩篮球胜负玩法_分析|预测-网易彩票网",sfc:"篮彩胜分差_竞彩篮球胜分差技巧_推荐|预测-网易彩票网",dxf:"篮彩大小分_竞彩篮球大小分技巧_推荐|预测-网易彩票网",mixall:"篮彩_篮彩分析_NBA篮彩_篮彩推荐_篮球预测-网易彩票网",sf4dg:"篮彩单关_篮彩单关奖金_篮彩单场玩法_单关网站-网易彩票网",rfsf4dg:"篮彩让分胜负单关_竞彩篮球单关让分胜负_玩法|推荐-网易彩票网",sfc4dg:"篮彩胜分差单关_竞彩篮球单关胜分差_玩法|推荐-网易彩票网",dxf4dg:"篮彩大小分单关_竞彩篮球单关大小分_玩法|推荐-网易彩票网",mixall4dg:"篮彩单关_篮彩单关奖金_篮彩单场玩法_单关网站-网易彩票网"}[e]||"篮彩_篮彩分析_NBA篮彩_篮彩推荐_篮球预测-网易彩票网"},getPlayTypeByPath:function(){var e=this.getCurrentRouter();return{"rfsfp.html":"rfsf","sfcp.html":"sfc","dxfcp.html":"dxf","mixp.html":"mixall","dg.html":"sf4dg","dgrfsf.html":"rfsf4dg","dgsfc.html":"sfc4dg","dgdxf.html":"dxf4dg","dgmix.html":"mixall4dg"}[e]||"sf"},getCurrentRouter:function(){var e,t=History.getState(),a=t.url;a=this.realUrl(a);e=a.replace(/[#\?].*/,"").match(/[^\/]+$/)||[];e=e[0]||"";return e},isDgByPlayType:function(e){return/4dg$/.test(e)},getUrlParam:function(e){var a=History.getState(),i=this.realUrl(a.url),s=i.replace(/.*\?/,"").replace(/#.*/,"");return t.getParaFromString(s,e)},initRouter:function(){var e;t(i).bind("statechange",function(){e=n.getPlayTypeByPath();if(n.isDgByPlayType(e))LS.set("jclqDefPlayType",e);else LS.set("jclqDefDgPlayType",e);n.altGame(e)});this.initParam.call(this,this.getPlayTypeByPath(),this.getUrlParam())},getClsByPlayType:function(e){var t={sf:"sf",rfsf:"rfsf",sfc:"sfc",dxf:"dxf",mixall:"mixGg",mixall4dg:"mixGg",sf4dg:"sf",rfsf4dg:"rfsf",sfc4dg:"sfc",dxf4dg:"dxf"};return t[e]||""},initParam:function(a,i){var s=e,o;i=i||{};var l=function(a,s,o,r){var f=e,c,m,d,g,u,h,p;try{c=i.gameStr||i.stakeNumber;m=i.gameExtra;d=i.anchor;p=s.getGameInfo();if(c){e.selectAnimation=false;n.unSerialize(s,c,o.config.teamData);if(m){m=m.split(",");h=f.getMaxMethod(o.get());u=f.getMinMethod();r.changeMethod(h,u);r.setMethod(m)}}g=+i.betTimes;if(!isNaN(g)){g=Math.floor(g);if(g<0)g=0;if(g>5e5)g=5e5;f.betTime.set(g)}if(d){var y=p[d].ele,x=s.config,v=function(e){var a=t(this);if(a[0]!=y[0])y.removeClass(x.hoverGame);else y.addClass(x.hoverGame)};if(y){f.scrollWhenNeed(y.offset().top-60);y.addClass(x.hoverGame);s.cache.gameWrap.delegate(x.oneGameSelect,"mouseenter",v);s.onBeforeDestory(function(){this.cache.gameWrap.undelegate(this.config.oneGameSelect,"mouseenter",v)})}}if(i.autoPay&&1==i.autoPay)f.cache.buy.trigger("click");this.unbind("onGameInit",l)}catch(C){}finally{delete e.selectAnimation}};s.jcGameManage.onGameInit(l);if("sf"==a||"sf4dg"==a){if(n.isDgByPlayType(a))o=LS.get("jclqDefPlayType");else o=LS.get("jclqDefDgPlayType");if(o)a=o}this.altGame(a);document.title=n.getTitleByPlayType(a)}};t.extend(e,{helper:n})}(Core,jQuery,Game,window);